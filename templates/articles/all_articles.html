{% extends 'base.html' %} 
{% load i18n %}

{% block title %}{% translate "Mes articles :" %}{% endblock title %} 


{% block content %}

<section class="text-center max-w-7xl mx-auto pt-36 md:pt-10 px-4 sm:px-6 lg:px-8">

  <!-- L'ajout' -->
  <div class="mt-3 mb-3 text-center">
    <a class="inline-block px-2 py-1 rounded-lg shadow-lg bg-violet-300 hover:bg-violet-200 focus:outline-none focus:shadow-outline text-xs text-white uppercase tracking-widest font-semibold" 
    href="{% url 'articles:creation-article' %}">{% translate "Ajouter un article" %}</a>  
  </div>

  <!-- Les articles -->
  
  <div class="mt-8 flex flex-wrap justify-center items-center flex-col  md:flex-row">

      <!-- un article -->
    {% for article in all_articles %}
    
    <div class="relative bg-sky-50 w-10/12 flex flex-col shadow-md ring-1 ring-slate-300 border border-slate-200 rounded-lg mt-7 mx-4 px-2 py-2 text-left">
      
      <!-- L'image' -->
      {% if article.image %}
      <div>
        <img class="mt6 rounded-lg shadow-xl h-44 w-full object-cover object-center"
          src="{{ article.image.url }}"
          alt="image de l'activité {{ article.title }}"
        />
      </div>

      {% endif %}

      <!-- Le détail -->
        <div class="px-2">
            <div class="relative">
                <h2 class="mt-3 text-2xl font-bold text-slate-900"> {{ article.title }}</h2>
            </div>

            <p class="mt-1 text-slate-600 leading-tight">{{ article.content }}</p>
            
            <h3 class="mt-3 text-1xl font-semibold text-slate-900 ">{% translate "Publié le  :" %}
                <span class="text-slate-600">{{ article.published_on }}</span>
            </h3>
        </div>

        <div class="flex justify-center mt-3 mb-3">
        <!-- Le bouton modifier -->
            <a class="inline-block px-2 py-1 mr-2 rounded-lg shadow-lg bg-violet-300 hover:bg-violet-200 focus:outline-none focus:shadow-outline text-xs text-white uppercase tracking-widest font-semibold" 
            href="{% url 'articles:article-detail-update' slug=article.slug %}" target ="_blank">{% translate "modifier" %}</a>  

        <!-- Le bouton supprimer -->
            <a class="inline-block px-2 py-1 ml-2 rounded-lg shadow-lg bg-red-300 hover:bg-red-200 focus:outline-none focus:shadow-outline text-xs text-white uppercase tracking-widest font-semibold" 
            href="" target ="_blank">{% translate "supprimer" %}</a>  

        </div>
    </div>

    {% empty %}
        <div class=" bg-sky-50 min-w-fit flex flex-col shadow-md ring-1 ring-slate-300 border border-slate-200 rounded-lg mt-7 mx-4 px-2 py-2 text-left">
            <p class="pt-2 px-2 text-center">{% translate "Désolé, aucune article n'est disponible." %}</p>
        </div>
    {% endfor %}

  </div>
</section>
{% endblock content %} 